>* Rust and CSV parsing 译文（用 Rust 实现 csv 解析-part7）
>* 原文链接：https://pwy.io/en/posts/learning-to-fly-pt1/
>* 原文作者：[Patryk27](https://github.com/Patryk27)
>* 译文来自：https://github.com/suhanyujie/article-transfer-rs/
>* 译者：[suhanyujie](https://github.com/suhanyujie)
>* 译者博客：[suhanyujie](https://ishenghuo.cnblogs.com/)
>* ps：水平有限，翻译不当之处，还请指正。
>* 标签：Rust, simulation,  genetic-algorithm, neural-network, rust, webassembly

系列文章：
* [Learning to Fly: Let's create a simulation in Rust! (pt 1)](https://pwy.io/en/posts/learning-to-fly-pt1/)
* [Learning to Fly: Let's create a simulation in Rust! (pt 2)](https://pwy.io/en/posts/learning-to-fly-pt2/)

In this series we’ll create a simulation of evolution using neural network & genetic algorithm.

I’m going to introduce you to how a basic neural network and genetic algorithm works, then we’ll implement both in Rust and compile our application to WebAssembly to ultimately end up with:

![Figure 1. https://pwy.io/en/projects/shorelark/](https://pwy.io/resources/learning-to-fly-pt1/intro-outcome.png)

This series will be divided into a few posts, roughly:

* 1.Introduction to the domain (what are we going to simulate, how does a neural network & genetic algorithm work),

* 2.Implementing a neural network,

* 3.Implementing a genetic algorithm,

* 4.Implementing eyes, brain, and the simulation itself.

Due diligence: I’ll do my best to explain all the concepts, but if at any point you feel lost, feel free to take a look at this article’s last section - it contains links to external (mostly popular science) sources that might prove to be helpful in understanding the domain.

Curious? Hop on the bus, Gus, and onto the first chapter: [Design](https://pwy.io/en/posts/learning-to-fly-pt1/#design).

## [Design](https://pwy.io/en/posts/learning-to-fly-pt1/#design)

Let’s start by clearly defining our objective: what are we going to simulate, actually?

The overall idea is that we have a two-dimensional board representing a **world**:

![](https://pwy.io/resources/learning-to-fly-pt1/design-1.png)

This world consists of birds (hence the project’s original code name - Shorelark):

![](https://pwy.io/resources/learning-to-fly-pt1/design-2.png)

... and foods (of an abstract kind, rich in protein & fiber):

![](https://pwy.io/resources/learning-to-fly-pt1/design-3.png)

Each bird has their own vision, allowing them to locate the food:

![](https://pwy.io/resources/learning-to-fly-pt1/design-4.png)

... and a brain that controls bird’s body (i.e. speed and rotation).

Our magic touch will lay in the fact that instead of hard-coding our birds to some specific behavior (e.g. "go to the nearest food in your eyesight"), we’ll take a more intriguing route:

We’ll make our birds able to learn and evolve.

## Brain

If you squint your eyes hard enough, you’ll see that a brain is nothing but a function of some inputs to some outputs, e.g.:

![](https://pwy.io/resources/learning-to-fly-pt1/brain-1.png)

>You’re a precious mathematical formula, remember that.

Since our birds will have only one sensory input, their brains can be then approximated as:

![](https://pwy.io/resources/learning-to-fly-pt1/brain-2.png)

Mathematically, we can represent this function’s input (i.e. biological eye) as a list of numbers, with each number (i.e. biological photoreceptor) describing how close the nearest object (i.e. food) is:

![](https://pwy.io/resources/learning-to-fly-pt1/brain-3.png)

_(0.0 - no object in sight, 1.0 - object right in front of us.)_

>Our birds won’t see color, but that’s just for simplicity - you could use e.g. raytracing to make the eyes more realistic.

As for the output, we’ll make our function return a tuple of (Δspeed, Δrotation).

For instance, a brain telling us (0.1, 45) will mean "body, please increase our speed by 0.1 units and rotate us 45 degrees clockwise", while (0.0, 0) will mean "body, please keep our course steady".

>It’s important that we use relative values (so delta speed and delta rotation), as our brain won’t be aware of its own location & rotation respective to the world - passing that information would increase our brain’s complexity for no real benefit.

Finally, let’s address the elephant in the room: so a brain is basically f(eyes), right? But how do we find out what actually follows the equals sign?

```
f(eyes) = what?
```

## Neural network: Introduction
